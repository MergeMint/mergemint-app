#:schema node_modules/wrangler/config-schema.json

name = "mergemint"
main = ".open-next/worker.js"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Production routes (default environment)
routes = [
  { pattern = "mergemint.dev/*", zone_name = "mergemint.dev" },
  { pattern = "www.mergemint.dev/*", zone_name = "mergemint.dev" }
]

# Static assets configuration
assets = { directory = ".open-next/assets", binding = "ASSETS" }

# Environment variables
[vars]
MAILGUN_DOMAIN = "mergemint.dev"
MAILGUN_FROM = "MergeMint <hello@mg.mergemint.dev>"
NEXT_PUBLIC_SUPABASE_URL = "https://gptaepnnnvvwsdmphvqq.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdwdGFlcG5ubnZ2d3NkbXBodnFxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyMDE4NzksImV4cCI6MjA4MDc3Nzg3OX0.UaZPMyOhhirKa9EXrekonBES2ZI79WMv9HWzrYuvBaA"
NEXT_PUBLIC_GITHUB_APP_SLUG = "mergemint-connector"
NEXT_PUBLIC_SITE_URL = "https://mergemint.dev"

# ============================================================
# Staging Environment
# ============================================================
[env.staging]
name = "mergemint-staging"
routes = [
  { pattern = "staging.mergemint.dev/*", zone_name = "mergemint.dev" }
]

[env.staging.vars]
MAILGUN_DOMAIN = "mergemint.dev"
MAILGUN_FROM = "MergeMint <hello@mg.mergemint.dev>"
NEXT_PUBLIC_SUPABASE_URL = "https://gptaepnnnvvwsdmphvqq.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdwdGFlcG5ubnZ2d3NkbXBodnFxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyMDE4NzksImV4cCI6MjA4MDc3Nzg3OX0.UaZPMyOhhirKa9EXrekonBES2ZI79WMv9HWzrYuvBaA"
NEXT_PUBLIC_GITHUB_APP_SLUG = "mergemint-connector"
NEXT_PUBLIC_SITE_URL = "https://staging.mergemint.dev"

# ============================================================
# Production Environment (explicit, same as default)
# ============================================================
[env.production]
name = "mergemint"
routes = [
  { pattern = "mergemint.dev/*", zone_name = "mergemint.dev" },
  { pattern = "www.mergemint.dev/*", zone_name = "mergemint.dev" }
]

[env.production.vars]
MAILGUN_DOMAIN = "mergemint.dev"
MAILGUN_FROM = "MergeMint <hello@mg.mergemint.dev>"
NEXT_PUBLIC_SUPABASE_URL = "https://gptaepnnnvvwsdmphvqq.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdwdGFlcG5ubnZ2d3NkbXBodnFxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyMDE4NzksImV4cCI6MjA4MDc3Nzg3OX0.UaZPMyOhhirKa9EXrekonBES2ZI79WMv9HWzrYuvBaA"
NEXT_PUBLIC_GITHUB_APP_SLUG = "mergemint-connector"
NEXT_PUBLIC_SITE_URL = "https://mergemint.dev"

